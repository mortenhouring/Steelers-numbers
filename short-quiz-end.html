<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Steelers â€” Short Quiz End</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Center content vertically */
    #end-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start; /* aligns content to top */
  min-height: 70vh;
  text-align: center;
    
    #qualification-text {
  font-size: 1.1em;
  font-weight: normal;
  margin: 5px 0 0 0;  /* space below "Drill over!" */
  text-align: center;
    }
    
    #final-score {
      font-size: 1.2em;
      font-weight: bold;
    }

    #score-text {
      font-size: 1.2em;
    }

    #role-text {
      margin-top: 3px !important;
    }

    #role-text img {
      max-width: 90vw;       /* responsive for mobile */
      max-height: 300px;     /* prevent too tall images on desktop */
      height: auto;
      border-radius: 8px;    /* optional rounded corners */
      display: block;
      margin-bottom: 0px !important;
      margin: 0 auto;        /* center horizontally */
    }
      #final-score-text {
      display: inline-flex;       /* keep children on the same line */
      gap: 5px !important;                   /* small space between text and number */
      font-size: 1.2em;
      font-weight: bold;
      white-space: nowrap;
    }
    /* end buttons in styles. css*/

  </style>
</head>
<body>
  <!-- Header placeholder and menu script -->
  <div id="header-placeholder"></div>
  <script src="headerscript.js" defer></script>

<main id="end-content">
  <h1>Drill over!</h1>
  <p id="qualification-text">You're qualified to be a:</p>  
  <div id="role-text"></div>
  <div id="role-text"></div>

  <!-- Combine score text and number in one line -->
  <div id="final-score-text">
    <span>Your final score:</span>
    <span id="final-score">0</span>
  </div>

  <div class="end-buttons-container">
    <button class="frontpage-btn" onclick="window.location.href='short-quiz.html'">Try again</button>
    <button class="frontpage-btn" onclick="window.location.href='index.html'">Front Office</button>
    <button class="frontpage-btn" onclick="window.location.href='scoreboard.html'">Hall of Fame</button>
  </div>
</main>
<script>
  (function() {
    const score = parseInt(localStorage.getItem('shortScore') || '0', 10);
    const questionsAsked = parseInt(localStorage.getItem('shortQuestionsAsked') || '0', 10);
    const wrongAnswers = questionsAsked - score;

    const finalScoreEl = document.getElementById('final-score');
    if (finalScoreEl) finalScoreEl.textContent = `${score} / ${questionsAsked}`;

    const roleImages = [
      { maxWrong: 0,  src: 'role-images/head_coach.PNG',            alt: '01 head coach' },
      { maxWrong: 1,  src: 'role-images/ceo.PNG',                   alt: '02 CEO' },
      { maxWrong: 2,  src: 'role-images/general_manager.PNG',       alt: '03 general manager' },
      { maxWrong: 3, src: 'role-images/assistant_gm.PNG',          alt: '04 assistant GM' },
      { maxWrong: 4, src: 'role-images/equipment_manager.PNG',     alt: '05 equipment manager' },
      { maxWrong: 5, src: 'role-images/intern.PNG',                alt: '06 intern' },
      { maxWrong: 6, src: 'role-images/ball_boy.PNG',              alt: '07 ball boy' },
      { maxWrong: 8, src: 'role-images/season_ticket_holder.PNG',  alt: '08 season ticket holder' },
      { maxWrong: Infinity, src: 'role-images/casual_fan.PNG',      alt: '09 casual fan' }
    ];

    const roleData = roleImages.find(role => wrongAnswers <= role.maxWrong) || roleImages[roleImages.length - 1];
    const roleDiv = document.getElementById('role-text');
    if (roleDiv) roleDiv.innerHTML = `<img src="${roleData.src}" alt="${roleData.alt}">`;

    // clear short-quiz keys only
    ['shortCurrentRoster','shortLastPlayer','shortLastAnswer','shortQuestionsAsked','shortScore']
      .forEach(key => localStorage.removeItem(key));
  })();
</script>